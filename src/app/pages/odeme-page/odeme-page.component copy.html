<div id="sepetim-navbar">
  <h2 class="navbar-title">{{ table?.name }} Sipariş Detayları</h2>
  <button class="close-btn" (click)="goBack()">
    <i class="fas fa-times"></i>
  </button>
</div>

<div class="odeme-page">
  <!-- Grouped Orders View -->
  <div *ngIf="orders.length > 0; else noOrders" class="order-group">

    <div class="order-info">
      <h3>Siparişler (Toplam {{ orders.length }})</h3>

      <p><strong>Toplam Tutar:</strong> 
        {{ getTotalAmount() | currency : "TRY" }}
      </p>

      <p><strong>Sipariş Durumları:</strong>
        {{ getCombinedStatuses() }}
      </p>

      <p><strong>Sipariş Numaraları:</strong>
        {{ getOrderIdsString() }}
      </p>
    </div>

    <!-- Split Items -->
    <div class="order-items">
      <h4>Tüm Ürünler:</h4>
      <ul>
        <li *ngFor="let item of getAllItems()">
          {{ item.product.name }} - {{ item.price | currency : "TRY" }}
        </li>
      </ul>
    </div>
  </div>

  <!-- No Orders Message -->
  <ng-template #noOrders>
    <p class="no-orders-message">Bu masa için sipariş bulunamadı.</p>
  </ng-template>
</div>
