<div class="odeme-page-area2">
  <div class="area2-section area2-section1">
    <!-- Section 1 content -->
    <div
      style="
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        width: 100%;
      "
    >
      <!-- <div>Toplam:</div> -->
      <!-- <p>{{ odemePageFacadeService.getSelectedTotal() | currency : "TRY" }}</p> -->
      <div>Toplam Tutar:</div>
      <div>{{ totalPrice$ | async }} ₺</div>
    </div>
  </div>

  <div class="area2-section area2-section2">
    <!-- Section 2 content -->
    <!-- <h4>Section 2</h4> -->
    <!-- <p>{{ odemePageFacadeService.getSelectedTotal() | currency : "TRY" }}</p> -->
    <div
      style="
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        width: 100%;
        height: 100%;
      "
    >
      <!-- Top Section -->
      <div style="flex: 5"></div>
      <!-- subpayments will be here as list -->

      <!-- Sub-payments list -->
      <ng-container *ngIf="currentPayment$ | async as payment">
        <div *ngIf="payment.subPayments.length > 0; else noSubPayments">
          <div
            *ngFor="let sub of payment.subPayments"
            style="display: flex; justify-content: space-between"
          >
            <div>{{ sub.method | titlecase }}</div>
            <div>{{ sub.amount | currency : "TRY" : "symbol" }}</div>
          </div>
        </div>
        <ng-template #noSubPayments>
          <p style="font-style: italic; opacity: 0.6">Henüz ödeme yapılmadı.</p>
        </ng-template>
      </ng-container>

      <!-- Bottom Section -->
      <div
        style="
          flex: 1;
          display: flex;
          flex-direction: row;
          justify-content: flex-end;
          align-items: center;
        "
      >
        <p>
          Ödenecek Tutar:
          {{ odemePageFacadeService.paymentAmount$ | async }} ₺
        </p>
      </div>
    </div>
  </div>

  <div class="area2-section area2-section3">
    <app-odeme-grid></app-odeme-grid>
  </div>
</div>
